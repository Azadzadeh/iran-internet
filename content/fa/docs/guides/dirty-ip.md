---
title: "ุขุฒููู ฺฉุซู ูุจูุฏู IP"
draft: false
weight: 2
---

# ุจุฑุฑุณ ฺฉุซู ูุจูุฏู IP
## ยซูุณุชยป ู ฺฉุซู IP
ฺฉ ุงุฒ ูุดฺฉูุงุช ฺฉู ฺฏุฑุจุงูฺฏุฑ ฺฉุงุฑุจุฑุงู ุดุฏู ุงุณุชุ ูพุงุณุฎ ุจู ุงู ูพุฑุณุด ุงุณุช ฺฉู ยซุขุง IP ุณุฑูุฑู ุงุฌุงุฑูโุดุฏู ฺฉุซู (dirty) ุงุณุช ุง ููุยป

ุฏุฑ [ุณุงูุงููโ ุณุงูุณูุฑ](https://en.wikipedia.org/wiki/Great_Firewall#Active_filtering)ุ ฺฏุงู ุงููุงุช ฺฉ ุฏุงููู/IP ุจู ุตูุฑุช ูุทูู ูุณุฏูุฏ (blocked) ููโุดูุฏ ุจูฺฉู ุชููุง ฺฏุงู ฺฉูุช ุณุฑูุณโุฏู ([Quality of Service : QoS](https://en.wikipedia.org/wiki/Quality_of_service)) ุจู ุขู ูุดุงู ูพุงู ูโุขุฏ.

ุงู ุงูุช ฺฉูุช ูโุชูุงูุฏ ุดุงูู ููุงุฑุฏ ุฒุฑ ุดูุฏ:
- ฺฉุงูุด ูพููุง ุจุงูุฏ ุงุฑุณุงู ู ุฏุฑุงูุช ุงุฒ ุขู ูุดุงู
- ูุทุน ูุงฺฏูุงู ุงุฑุชุจุงุท TCP ุชูุณุท ุดุฎุต ุซุงูุซ ([TCP RST](https://en.wikipedia.org/wiki/TCP_reset_attack))
- ุฒูุงูุจูุฑ ฺฉุฑุฏู ุงุฑุชุจุงุท ุจุฏูู ูุทุน ฺฉุฑุฏู (timeout error)
- ููุน ุฏุณุชโุฏุงุฏู ุฏุฑ ุฌูุณูโ ุงูู (TLS handshake error)

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ฺูู ูุดฺฉูุงุช (ฺฉู ุชุดุฎุต ุขู ูู ุขุณุงู ูุณุช)ุ ุงุตุทูุงุญุงู ูโฺฏูู ุขู ูุดุงู ุงูุชุฑูุช ฺฉุซู ุดุฏู ุงุณุช ู ุฏุฑ ยซูุณุชยป ุฑูุชู ุงุณุช.


ุจุฑุง ููุงุฌูโูุดุฏู ุจุง ุงู ูุดฺฉูุงุช ูุงุฒู ุงุณุช **ูพุด ุงุฒ** ูุตุจ ู ุชูุธู ูุฑูโุงูุฒุงุฑ proxy ุฏุฑ ุณูุช ุณุฑูุฑุ ุงุฒ ุงูู: ูุณุฏูุฏ ูุจูุฏู ู ุจ: ฺฉุซู ูุจูุฏู ุขู ูุดุงู ูุทูุฆู ุดูู.

{{< hint info >}}
**... ูู ูู ูู ุชุงุฒู ุงู IP ุฑู ุณูุงุฑุด ุฏุงุฏูโ ุจูุฏูููู! ๐ข**

ุฏูุช ุดูุฏ ุงูฺฉู ุจุฑุง ูุฎุณุชู ุจุงุฑ ุงุฒ ฺฉ ุฏุชุงุณูุชุฑ ฺฉ IP ุงุฌุงุฑู ฺฉุฑุฏูโุงุฏ ุง ุงูฺฉู ูุฌุฏุฏุงู ูพุณ ุงุฒ ูุฏุช ฺฉุงุฑฺฉุฑุฏู ุจุง ฺฉ ูุดุงู ุฏฺฏุฑุ ฺฉ IP ุชุงุฒู ุณูุงุฑุด ุฏุงุฏูโุงุฏุ ูุดุงูฺฏุฑ ูพุงฺฉ ุจูุฏู ุขู ูุดุงู ุชุงุฒู ูุณุช! ฺุฑุงฺฉู ุขู IP ูู ููฺฉู ุงุณุช ุชูุณุท **ุณุงุฑ ูุดุชุฑุงู ุงุฑุงู ูพุด ุงุฒ ุดูุง** ุจู ุฏูุงู ูุฎุชูู ูุซู ุนุฏู ุงุณุชูุงุฏู ุงุฒ ูพุฑูุชฺฉู/ูพุฑุงฺฉุณ ุงูู ุฏุฑ *ูุณุช* ุณุงูุงููโ ุณุงูุณูุฑ ุงุฑุงู ูุฑุงุฑ ฺฏุฑูุชู ู ฺฉุซู ุดุฏู ุจุงุดุฏ!
{{< /hint >}}

## ุจุฑุฑุณ ูุณุฏูุฏโ ูุจูุฏู ฺฉ ุฏุงููู/ุขโูพ

ฺฉุงูุณุช ุงุฒ ุฏุณุชูุฑ `ping` ุง `mtr` ุงุณุชูุงุฏู ฺฉูุฏ:

<pre dir="ltr"><code>ping 123.45.67.890
</code></pre>
ุงฺฏุฑ ุฏุฑ ุฎุฑูุฌ ุจุณุชูโูุง ICMP ุฑุฏ ู ุจุฏู ูุดุฏุ ูุดุงูฺฏุฑ ุงูุณุฏุงุฏ ุขู ูุดุงู ุงุณุช.

<pre dir="ltr"><code>mtr -y2 my.domain.name
</code></pre>

ุงฺฏุฑ ุฏุฑ ุขุฎุฑู ุฎุท ุฎุฑูุฌุ IP ุชูุธู ุดุฏู ุจู ุขู ุฏุงููู ุฑุง ูุฏุฏุฏุ ูุดุงูฺฏุฑ ููุชุฑุดุฏู ุขู ุฏุงููู ุง DNS poisoning ุงุณุช. ููุฑุฏ ุฏูู ููุถูุน ูุณุชูู ุงุฒ ุงู ููุดุชุงุฑ ุงุณุช.

## ุจุฑุฑุณ ฺฉุซูโ ูุจูุฏู ฺฉ ุฏุงููู/ุขโูพ

ุงุฒ ุขูุฌุง ฺฉู ุจุณุงุฑ ุงุฒ ุฑูุดโูุง ฺฉุงุฑฺฏุฑ ุฏุฑ ุดุฑุงุท ูุนู ุงุฑุงูุ ุจุณุงู ฺฉ ูุจุณุงุช ุชุญุช ูพุฑูุชฺฉู HTTPS ุฑูุชุงุฑ ูโฺฉููุฏ ุชุง ุงุฒ ุณุงูุงููโ ุณุงูุณูุฑ ุฏุฑ ุงูุงู ุจูุงููุฏุ ูุง ูุฒ ุจุฑุง ุขุฒูุงุดุ ฺฉ ูุจุณุงุช ุชุญุช HTTPS ุจุงูุง ูโุขูุฑู ู ุจุฑุฑุณ ูโฺฉูู ฺฉู ุขุง ฺฉ ุฑุงุงููโ ุจุฏูู ูพุฑุงฺฉุณ ูโุชูุงูุฏ ุขู ูุจุณุงุช ุฑุง ุจุจูุฏ ุง ููุ

1. ุงุจุชุฏุง ุจุฑุง ุฏุงูููโุชุงู ุจุงุฏ ฺฏูุงู SSL ุฑุง ุชูุธู ฺฉูุฏ. [ุงู ุฑุงูููุง](https://github.com/iranxray/hope/blob/main/create-tsl-certificate.md#%D8%B3%D8%A7%D8%AE%D8%AA-tls-certificate) ููุฏ ุงุณุช.

2. ฺฉ ูุจุณุงุช ุจุณุงุฒุฏ.
{{< hint warning >}}
ุงู ุจุฎุด ุฏุฑ ุณูุช ุณุฑูุฑ ุงุฌุฑุง ูโุดูุฏ
{{< /hint >}}

ูุซูุงู ุจุง ุงุฌุฑุง ุฏุณุชูุฑุงุช ุฒุฑ ฺฉ ูุจุณุงุช ุงุณุชุง ุณุงุฎุชู ูโุดูุฏ ฺฉู ุจุฑุง ุขุฒููู ูุง ฺฉุงู ุงุณุช.

<pre dir="ltr"><code># install hugo-extended on your server
# https://github.com/gohugoio/hugo/releases
wget "https://github.com/gohugoio/hugo/releases/download/v0.109.0/hugo_extended_0.109.0_linux-amd64.deb"
sudo apt install ./hugo_extended_0.109.0_linux-amd64.deb

# make sure it's installed and available
hugo version

# choose a theme from here https://themes.gohugo.io
git clone https://github.com/kc0bfv/autophugo "$HOME/dummy-website/autophugo"
cd "$HOME/dummy-website/autophugo/exampleSite"
# edit config.toml to use your domain name (e.g. my.domain.name)
sed -i 's/example\.org/my\.domain\.name/g' config.toml
rm -rf $HOME/dummy-website/autophugo/exampleSite/public/
hugo --themesDir "../.."
</code></pre>

3. ูุจุณุงุช ุฑุง ุฑู ูพูุฑุช ดดณ ุชุญุช HTTP**S** ุจุงูุง ุจุงูุฑุฏ.
{{< hint warning >}}
ุงู ุจุฎุด ุฏุฑ ุณูุช ุณุฑูุฑ ุงุฌุฑุง ูโุดูุฏ
{{< /hint >}}

ูุซูุงู ูโุชูุงูุฏ ุงุฒ Caddy ฺฉู ฺฉ HTTP Web Server ุงุณุช ุงุณุชูุงุฏู ฺฉูุฏ ุง ูุฑ ุฑูุด ุฏฺฏุฑ ฺฉู ุจูุฏุฏ (nginx, Apache, etc).
<pre dir="ltr"><code># install caddy on your server
# https://caddyserver.com/docs/install
sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list
sudo apt update
sudo apt install caddy

# make sure it's installed and available
caddy version

caddy file-server --domain my.domain.name --root $HOME/dummy-website/autophugo/exampleSite/public/
</code></pre>

{{< hint warning >}}
ุฏูุช ฺฉูุฏ ฺฉู ุจุงุฏ ูพูุฑุช ธฐ ู ดดณ ุจุฑุง ุฏุณุชูุฑ ุจุงูุง ุจุงุฒ ุจุงุดุฏ ูฺฏุฑูู ุงุฌุฑุง ููโุดูุฏ.
 ุจุฑุง ุงูฺฉู ุจูููุฏ ฺฉุฏุงู ุจุฑูุงูู ุฏุฑ ุญุงู ุงุดุบุงู ฺู ูพูุฑุช ุงุณุช:
(ูุญุฏูุฏ ุจู TCP)

<pre dir="ltr"><code>netstat -nlpt
</code></pre>
ุณูพุณ ุจุฑูุงููโ ุงุดุบุงูฺฏุฑ ุฑุง ุจุฑุง ุงุฌุฑุง ุขุฒููู ูููุชุงู ูุชููู ฺฉูุฏ.
{{< /hint >}}


4. ุจุฏุชุฑู ุดุจฺฉูโ ู ISP-ุง ฺฉู ูโุดูุงุณุฏ ุฑุง ุจุฑฺฏุฒูุฏ (ูุนูููุงู ุงูพุฑุงุชูุฑูุง ููุจุงู ููุชุฑูฺฏ ุณุฎุชฺฏุฑุงููโุชุฑ ุฏุงุฑูุฏ)

ูุซูุงู ุงฺฏุฑ ุชุณุช ุฑุง ุฑู ุฑุงุงูู ุงูุฌุงู ูโุฏูุฏุ ุณุณุชู ุนุงูู ุจุงุฏ ุจู ุงูุชุฑูุช ฺฏูุด ููุฑุงู ูุตู ุจุงุดุฏ.

5. ุฑู ุงูุชุฑูุช ุดุจฺฉูโ ุจุฑฺฏุฒุฏูุ ุจุฏูู ูฺ ูพุฑุงฺฉุณ ู VPN ฺฉ HTTP load teser ุฑุง ุนูู ูุจุณุงุช ฺฉู ุจุงูุง ุขูุฑุฏูโุงุฏุ ุงุฌุฑุง ฺฉูุฏ
{{< hint warning >}}
ุงู ุจุฎุด ุฏุฑ ุณูุช client (ูู ุณุฑูุฑ) ุงุฌุฑุง โูโุดูุฏ
{{< /hint >}}

[ฺฏุฒููโูุง ุจุณุงุฑ](https://github.com/denji/awesome-http-benchmark#https-benchmark-tools) ุจุฑุง ุงู ุงูุฑ ูุฌูุฏ ุฏุงุฑุฏ.
ูุซูุงู ูุง ุงูุฌุง ุงุฒ [oha](https://github.com/hatoo/oha) ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุญุช console ูู ุฏุงุฑุฏ ู ุฑููุฏ ุชุณุช ุจุงุฑ ุฑุง ุจู ุตูุฑุช ุงููุดู ููุงุด ูโุฏูุฏ.

![oha demo](/iran-internet/fa/docs/guides/oha-demo.gif)

<pre dir="ltr"><code># install oha on your client
# https://github.com/hatoo/oha/releases
wget -P /tmp/ "https://github.com/hatoo/oha/releases/download/v0.5.5/oha-linux-amd64"
chmod +x /tmp/oha-linux-amd64
mv /tmp/oha-linux-amd64 "$HOME/.local/bin/oha"

# make sure it's installed and available
oha --version

# baseline benchmark of a local website (should be fast)
oha https://telewebion.com -n 20 -c 3 -t 10sec

# typical foreign-hosted website
oha https://en.wikipedia.org/wiki/Tcpip -n 20 -c 3 -t 10sec

# our dummy website on our domain
oha https://my.domain.name -n 20 -c 3 -t 10sec
</code></pre>

- ุจุฑุง ูุฑ ูุจุณุงุช ุชุณุชุ ฒฐ ุฏุฑุฎูุงุณุช ูโูุฑุณุชู ฺุฑุงฺฉู ูุง ูโุฎูุงูู ฺฉูุช ุฏุณุชุฑุณ ุจู ุณุงุช ุฏุฑ ุดุจฺฉู ุฑุง ุจุงุฒูุงู ูู ุชฺฉููููฺ ูุจ-ุณุฑูุฑ ุง ุณูฺฏู ุณุงุช ุฑุง.

- ุจุดูู ุชุนุฏุงุฏ  ฺฉุงุฑฺฏุฑูุง ฺฉู ุฏุฑ ูุฑ ุฒูุงู ุฏุฑุฎูุงุณุช ูโฺฉููุฏ ุฑุง ุจู ุนุฏุฏ ณ ูุญุฏูุฏ ูโฺฉูู 

{{< hint info >}}
ุงู ุนุฏุฏ ุชูุฑุจุงู ูโุชูุงูุฏ ูพุงุฑุงูุชุฑ [Concurrency MUX](https://azadzadeh.github.io/trojan-go/en/advance/mux/) ุฑุง ูุฏู ฺฉูุฏุ ูุฑฺูุฏ ุงุฒ ุขู ุณุฎุชฺฏุฑุงููโุชุฑ ุงุณุช ุฒุฑุง ุงูุฌุง ูุฑ ุฏุฑุฎูุงุณุช ุฏุฑ ฺฉ TLS Session ูุฌุฒุง ุตูุฑุช ูโฺฏุฑุฏ ูู ุฏุฑ MUX ุฏุฑุฎูุงุณุชโูุง ููุงุฒ ุฏุฑูู ฺฉ TLS Session ูุดุชุฑฺฉ ุงูุฌุงู ูโุดููุฏ
{{< /hint >}}

- ุจู ูุฑ ุฏุฑุฎูุงุณุช ููุท ฑฐ ุซุงูู ุงุฌุงุฒู ูโุฏูู ุชุง ูพุงุณุฎ ุจฺฏุฑุฏ

ูโุชูุงูุฏ ุงุฒ ุงู ุณูฺโูุง ุงุณุชูุงุฏู ูฺฉูุฏ ุง oha ุฑุง ุจุฏูู ุณูุฆฺ ูุฑุงุฎูุงู ฺฉูุฏ.

ูพุณ ุงุฒ ุขุฒูุงุดุ ุฏุฑ ฺฏุฒุงุฑุด ุจู ฺูุฏ ูพุงุฑุงูุชุฑ ุชูุฌู ฺฉูุฏ:
- ูุฑุฎ ููููุช (success rate) ุจุงุฏ ฑ ุง ฺุฒ ุฎู ูุฒุฏฺฉ ุจู ุขู ุจุงุดุฏ
- ูุชูุณุท ุฒูุงู ูพุงุณุฎ ุจุงุฏ ฺุฒ ูุนููู ุจุงุดุฏ (ุฒุฑ ฑ ุซุงูู)
- ุฏุฑ ุฎุท ุขุฎุฑุ ุงุฒ n ุฏุฑุฎูุงุณุช ุงุฑุณุงูุ ุจุงุฏ ุงฺฉุซุฑุงู ุฎุฑูุฌ ฒฐฐ ุฏุงุดุชู ุจุงุดูุฏ

ุงฺฏุฑ ุฏุงููู/ุขโูพ ุดูุง ุงู ูุดุฎุตุงุช ุฑุง ุฏุฑ ุขุฒููู ูุดุงู ูุฏูุฏ ูุซูุงู ุขุฒููู timeout ุดูุฏ ุง ุชุนุฏุงุฏ error response ูุง ุฒุงุฏ ุจุงุดุฏุ ูโุชูุงูุฏ ูุดุงูฺฏุฑ ยซฺฉุซู ุจูุฏูยป ุฏุงููู/ุขโูพ ุจุงุดุฏ.


{{< hint info >}}
**ุง ุจุงุจุง! ุฏุงููู/IP ุงูู ฺฉุซู ุจูุฏ! (ุชุณุช ูููู ูุจูุฏ) ๐ฅด**

ูพุด ุงุฒ ูุฑ ฺฉุงุฑุ ุฏุฑ ุฏุดุจูุฑุฏ ุฏุชุงุณูุชุฑ ฺฉู ุงุฒ ุขู ุฎุฏูุช ูโฺฏุฑุฏุ ฺฉ VPS ุฏฺฏุฑ ุงุฌุงุฏ ฺฉูุฏ ุชุง ฺฉ ุขโูพ ุชุงุฒู ุจู ุดูุง ุจุฏูุฏ. ุฏูุช ฺฉูุฏ ุชุง ูพุฏุง ฺฉุฑุฏู ฺฉ IP ุชูุฒุ ูฺ VPS ุฑุง delete ูฺฉูุฏ ุชุง IP ุชฺฉุฑุงุฑ ุจู ุดูุง ูุฏูุฏ!

ุจุนุฏ ุงุฒ ุงุฌุงุฏ VPS ุฌุฏุฏุ ุจุงุฏ ุขุฒููู ูพุงฺฉ ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ. 
ุงุฏุชุงู ุจุงุดุฏ ฺฉู ุฏุฑ ุฏุดุจูุฑุฏ DNS providerุชุงู (ูุซูุงู Cloudflare) ุจุงุฏ ุขโูพ ุชุงุฒู ุฑุง ุจู ุฏุงููู ูุฑุจูุท ุณุงุฒุฏ.
ุจูุชุฑ ุงุณุช ุงุณุงุณุงู ฺฉ ุฒุฑุฏุงูููโ ุชุงุฒู ูู ุฏุฑ ูููุฌุง ุงุฌุงุฏ ฺฉูุฏ ฺุฑุง ฺฉู ููฺฉู ุงุณุช ุฒุฑุฏุงููู ุฑุง ูุฏู ูุฑุงุฑ ุฏุงุฏูโ ุจุงุดูุฏ ูู IP.
{{< /hint >}}
{{< hint info >}}
ุขุฒููู HTTP load test ูุทุฑุญ ุดุฏูุ ฺฉ ุขุฒููู ุณุทุญ ุจุงูุงุณุช. ุจุฑุง ุฏูุช ุจุดุชุฑ ุจูุชุฑ ุงุณุช ุงุฒ ุฑูุดโูุง ุณุทุญโ ูพุงูโุชุฑ ูุซู ุชุญูู ู ููุงุณูโ `tcpdump`ูุง ุฏุฑ ุฏู ุณูุช ฺฉูุงูุช ู ุณุฑูุฑ ุง ุงุฌุฑุง ููุดููุฏุงููโ ูพุฑูุจ ูููุนู ูุซู [`p0f`](https://lcamtuf.coredump.cx/p0f3/) ุฏุฑ ุณูุช ุณุฑูุฑ ุงุณุชูุงุฏู ฺฉุฑุฏ.

{{< /hint >}}
ูพุณ ุงุฒ ุงูฺฉู ฺฉ ุฒูุฌ ุขโูพ/ุฏุงููู ุงุฒ ุขุฒููู ูพุงฺฉ ุณุฑุจููุฏ ุจุฑูู ุขูุฏูุฏุ ุญุงูุง ุจุงุฏ ฺฉ ูุฑูโุงูุฒุงุฑ ูพุฑุงฺฉุณ ุงูู ุฑุง ุฑู ุณุฑูุฑ ูุตุจ ฺฉูุฏ ุชุง active probe ุฏฺฏุฑ ูุชูุงูุฏ ุขู ุฑุง ุชุดุฎุต ุฏูุฏ ู ุฏุฑ *"ูุณุช"* ุจฺฏุฐุงุฑุฏ.

![The List](/iran-internet/fa/docs/guides/the-list.jpeg)
