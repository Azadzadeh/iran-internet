<!doctype html><html lang=fa-ir dir=rtl><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="گذراندن ترافیک برنامه‌ها تحت پراکسی در لینوکس # طرح مشکل # معمولاً نرم‌افزارهای عبور از فیلترینگ به این صورت عمل می‌کنند که یک ارتباط امن بین کلاینت و سرور تحت پروتکل SOCKS و HTTP ایجاد می‌کنند. مرورگرهای وب مثل فایرفاکس و کروم قابلیت تنظیم پورت دلخواه برای این پراکسی‌ها را دارند. مشکل اینجاست که بعضی برنامه‌های تحت سیستم‌عامل‌های یونیکسی به صورت native این ویژگی را ندارند که ترافیکشان را از پورت خاصی تحت پراکسی عبور دهند."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="گذراندن ترافیک برنامه‌ها از SOCKS در لینوکس"><meta property="og:description" content="گذراندن ترافیک برنامه‌ها تحت پراکسی در لینوکس # طرح مشکل # معمولاً نرم‌افزارهای عبور از فیلترینگ به این صورت عمل می‌کنند که یک ارتباط امن بین کلاینت و سرور تحت پروتکل SOCKS و HTTP ایجاد می‌کنند. مرورگرهای وب مثل فایرفاکس و کروم قابلیت تنظیم پورت دلخواه برای این پراکسی‌ها را دارند. مشکل اینجاست که بعضی برنامه‌های تحت سیستم‌عامل‌های یونیکسی به صورت native این ویژگی را ندارند که ترافیکشان را از پورت خاصی تحت پراکسی عبور دهند."><meta property="og:type" content="article"><meta property="og:url" content="https://azadzadeh.github.io/iran-internet/docs/guides/unix-redirect-apps/"><meta property="article:section" content="docs"><title>گذراندن ترافیک برنامه‌ها از SOCKS در لینوکس | اینترنت ایران</title><link rel=manifest href=/iran-internet/manifest.json><link rel=icon href=/iran-internet/favicon.png type=image/x-icon><link rel=stylesheet href=/iran-internet/book.min.bb111fce06151c4832a363c50976a4662c646ee31a564887a56130f2ed35272a.css integrity="sha256-uxEfzgYVHEgyo2PFCXakZixkbuMaVkiHpWEw8u01Jyo=" crossorigin=anonymous><script defer src=/iran-internet/flexsearch.min.js></script>
<script defer src=/iran-internet/fa.search.min.c142435f7dfcddb6797db311fc843d30d7ed20bbded899d993054b95655e2a3b.js integrity="sha256-wUJDX3383bZ5fbMR/IQ9MNftILve2JnZkwVLlWVeKjs=" crossorigin=anonymous></script>
<script defer src=/iran-internet/sw.min.c9ae79605996fd87fe28b8ce3a321877cd2bcf610687bcc944667b290c6d3ca1.js integrity="sha256-ya55YFmW/Yf+KLjOOjIYd80rz2EGh7zJRGZ7KQxtPKE=" crossorigin=anonymous></script></head><body dir=rtl><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/iran-internet/><span>اینترنت ایران</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=جستجو aria-label=جستجو maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>راهنمایی‌ها</span><ul><li><a href=/iran-internet/docs/guides/circumvention/>تکنولوژی‌های عبور از فیلترینگ</a></li><li><a href=/iran-internet/docs/guides/vps-providers/>گزینش و مقایسه‌ی ارائه‌دهندگان VPS</a></li><li><a href=/iran-internet/docs/guides/dirty-ip/>آزمون کثیف نبودن IP</a></li><li><a href=/iran-internet/docs/guides/speedtest/>آزمون سرعت و پهنای‌باند</a></li><li><a href=/iran-internet/docs/guides/unix-redirect-apps/ class=active>گذراندن ترافیک برنامه‌ها از SOCKS در لینوکس</a></li><li><a href=/iran-internet/docs/guides/sanctions/>دور زدن تحریم‌های خارجی</a></li></ul></li></ul><ul><li><a href=https://azadzadeh.github.io/trojan-go/ target=_blank rel=noopener>Trojan-Go docs</a></li><li><a href=https://hysteria.network/ target=_blank rel=noopener>Hysteria docs</a></li><li><a href=https://www.v2ray.com/en/index.html target=_blank rel=noopener>V2ray docs</a></li><li><a href=https://github.com/XTLS/Xray-examples target=_blank rel=noopener>Xray examples</a></li><li><a href=https://github.com/Azadzadeh/iran-internet target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/iran-internet/svg/menu.svg class=book-icon alt=Menu></label>
<strong>گذراندن ترافیک برنامه‌ها از SOCKS در لینوکس</strong>
<label for=toc-control><img src=/iran-internet/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#گذراندن-ترافیک-برنامهها-تحت-پراکسی-در-لینوکس>گذراندن ترافیک برنامه‌ها تحت پراکسی در لینوکس</a><ul><li><a href=#طرح-مشکل>طرح مشکل</a></li><li><a href=#راه-حل>راه حل</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=گذراندن-ترافیک-برنامهها-تحت-پراکسی-در-لینوکس>گذراندن ترافیک برنامه‌ها تحت پراکسی در لینوکس
<a class=anchor href=#%da%af%d8%b0%d8%b1%d8%a7%d9%86%d8%af%d9%86-%d8%aa%d8%b1%d8%a7%d9%81%db%8c%da%a9-%d8%a8%d8%b1%d9%86%d8%a7%d9%85%d9%87%d9%87%d8%a7-%d8%aa%d8%ad%d8%aa-%d9%be%d8%b1%d8%a7%da%a9%d8%b3%db%8c-%d8%af%d8%b1-%d9%84%db%8c%d9%86%d9%88%da%a9%d8%b3>#</a></h1><h2 id=طرح-مشکل>طرح مشکل
<a class=anchor href=#%d8%b7%d8%b1%d8%ad-%d9%85%d8%b4%da%a9%d9%84>#</a></h2><p>معمولاً نرم‌افزارهای عبور از فیلترینگ به این صورت عمل می‌کنند که یک ارتباط امن بین کلاینت و سرور تحت پروتکل SOCKS و HTTP ایجاد می‌کنند.
مرورگرهای وب مثل فایرفاکس و کروم قابلیت تنظیم پورت دلخواه برای این پراکسی‌ها را دارند.
مشکل اینجاست که بعضی برنامه‌های تحت سیستم‌عامل‌های یونیکسی به صورت native این ویژگی را ندارند که ترافیکشان را از پورت خاصی تحت پراکسی عبور دهند.</p><h2 id=راه-حل>راه حل
<a class=anchor href=#%d8%b1%d8%a7%d9%87-%d8%ad%d9%84>#</a></h2><p>اگر برنامه به صورت محلی SOCKS را پشتیبانی می‌کند، طبیعتاً بهترین راه استفاده از فراخوان مناسب خود برنامه است. مثلاً:</p><pre dir=ltr><code># check if the program supports SOCKS proxy
curl --help | grep -i -C 3 "socks"
</code></pre><p>اما اگر اینگونه نباشد، یک راه حل کَلَک‌گونه (hack) استفاده از برنامه‌ی <a href=https://github.com/rofl0r/proxychains-ng><code>proxychains-ng</code></a> است.</p><pre dir=ltr><code># install proxychains-ng
sudo apt install proxychains-ng
</code></pre><p>کافیست <code>proxychains4</code> را با فایل کانفیگ خاصش پیش از برنامه‌ی دلخواه بخوانید تا ترافیک برنامه‌ی دلخواه از SOCKS proxy عبور کند.</p><pre dir=ltr><code># prepend invocation of proxychains4 to my_app
proxychains4 -f /path/to/proxychains.conf my_app --with-original "invocations"

# test download speed of currently active proxy
proxychains4 -f /path/to/proxychains.conf iperf3 -c speedtest-nl-oum.hybula.net -p 5202-5206 -R
</code></pre><p>برای کانفیگ <code>proxychains4</code> کافیست تنظیمات <a href=https://github.com/rofl0r/proxychains-ng/raw/master/src/proxychains.conf>پیش‌فرض</a> را کپی کرده و فقط پورت SOCKS را به پورتی که برنامه‌ی عبور از فیلترینگتان تعیین کرده set کنید (خط آخر).</p></article><footer class=book-footer><script data-goatcounter=https://iran-internet.goatcounter.com/count async src=//gc.zgo.at/count.js></script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#گذراندن-ترافیک-برنامهها-تحت-پراکسی-در-لینوکس>گذراندن ترافیک برنامه‌ها تحت پراکسی در لینوکس</a><ul><li><a href=#طرح-مشکل>طرح مشکل</a></li><li><a href=#راه-حل>راه حل</a></li></ul></li></ul></nav></div></aside></main></body></html>